parameters:
  - name: pythonVersion
    type: string
  - name: cacheConfig
    type: object
    default:
      key: "pip | $(Agent.OS) | requirements.txt"
      restoreKeys: |
        pip | $(Agent.OS)
        pip
      path: $(PIP_CACHE_DIR)

steps:
  - task: UsePythonVersion@0
    inputs:
      versionSpec: "${{ parameters.pythonVersion }}"
    displayName: "Use Python ${{ parameters.pythonVersion }}"

  - task: Cache@2
    inputs: ${{ parameters.cacheConfig }}

  - script: scripts/install
    displayName: "Install dependencies"
